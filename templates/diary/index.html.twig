{% extends 'base.html.twig' %}

{% block title %} Trening Diary {% endblock %}

{% block body %}
    <br>
    <h1> Your personal Trening Diary </h1>

    <h4> Hello, {{ app.user.username }}</h4>


    <br>
    <br>
    {% if day is defined %}

    <h3>Today workout ({{ day }})</h3>

    {% endif %}
    

    {% if message is defined %}

    {% if message.error is defined %}

    <h4 style='color: red;'> {{ message.error }}</h4>

    {% endif %}

    {% if message.correct is defined %}

    <h4 style='color: green;'> {{ message.correct }}</h4>

    {% endif %}

    {% endif %}
    <br>

    {% if plan %}
        
        <h2>{{ plan.name }}</h2>

        <table id="Exercises" class="table table-striped">
            <thead>
                <tr>
                    <th>Exercise</th>
                    <th>Weight</th>
                    <th>Sets</th>
                    <th>reps</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% if progres is defined %}
                {% for item in progres %}
                <div id="edititem">
                    <tr>
                        <td> {{ item.exercise }} </td>
                        <td> {{ item.weight }} </td>
                        <td> {{ item.sets }} </td>
                        <td> {{ item.reps }} </td>
                        <td>
                            <form method="POST" action="/login/{}/{{ item.id }}">
                                <input type="hidden" name="_method" value="DELETE"/>
                                <input type="submit" class="btn btn-danger" value="Delete">
                            </form>
                        </td>
                    </tr>
                </div>
                {% endfor %}
                {% endif %}

                {% if exercises is defined %}
                {% for exercise in exercises %}
                    <tr>
                        <td> {{ exercise }}</td>
                        <form method="POST" id="form"."{{ loop.index0 }}" action="/login/{}">

                            <td>
                                <div class="row">
                                    <div class="col-md-5">
                                        <input type="number" class="form-control" name="weight" min="1" max="600" placeholder="0" id="weight" />
                                    </div> 
                                </div>
                            </td>
                            
                            <td>
                                <div class="row">
                                    <div class="col-md-5">
                                        <input type="number" class="form-control" name="sets" min="1" max="30" placeholder="0" id="sets" />
                                    </div> 
                                </div>
                            </td>

                            <td>
                                <div class="row">
                                    <div class="col-md-5">
                                        <input type="number" class="form-control" name="reps" min="1" max="600" placeholder="0" id="reps" />
                                    </div> 
                                </div>
                            </td>

                            <td> 
                                <input type="hidden" name="exercise" id="exercise" value="{{ exercise }}"/>
                                <input type="submit" class="btn btn-success" value="Setup"/>
                            </td>
                        </form>
                    </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>

    {% endif %}
    <br> 

{% endblock %}